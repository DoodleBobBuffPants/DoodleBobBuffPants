1:HL["/DoodleBobBuffPants/_next/static/media/2aaf0723e720e8b9-s.p.woff2",{"as":"font","type":"font/woff2"}]
2:HL["/DoodleBobBuffPants/_next/static/css/f599d18cbb7dc8b9.css",{"as":"style"}]
0:["htLHcP4QlqI-VPC-91G9J",[[["",{"children":["posts",{"children":[["slug","2022/05/02/Logging-in-Java-9%2B","c"],{"children":["__PAGE__?{\"slug\":[\"2022\",\"05\",\"02\",\"Logging-in-Java-9+\"]}",{}]}]}]},"$undefined","$undefined",true],"$L3",[[["$","link","0",{"rel":"stylesheet","href":"/DoodleBobBuffPants/_next/static/css/f599d18cbb7dc8b9.css","precedence":"next"}]],["$L4",["$","meta",null,{"name":"next-size-adjust"}]]]]]]
5:I{"id":"3614","chunks":["160:static/chunks/160-e8a527a9bad60f49.js","394:static/chunks/394-12df5e94d089057d.js","782:static/chunks/782-1ca8b1701faf84c3.js","185:static/chunks/app/layout-7c530411beffcfb4.js"],"name":"","async":false}
6:I{"id":"3211","chunks":["272:static/chunks/webpack-3c0103620b7d5368.js","253:static/chunks/bce60fc1-1fb825080aa05c2d.js","769:static/chunks/769-33ddfebaeccd90b1.js"],"name":"","async":false}
7:I{"id":"9529","chunks":["160:static/chunks/160-e8a527a9bad60f49.js","864:static/chunks/864-fc54d328e346eb36.js","555:static/chunks/app/loading-c55be19d14dc628f.js"],"name":"","async":false}
8:I{"id":"5767","chunks":["272:static/chunks/webpack-3c0103620b7d5368.js","253:static/chunks/bce60fc1-1fb825080aa05c2d.js","769:static/chunks/769-33ddfebaeccd90b1.js"],"name":"","async":false}
9:I{"id":"1123","chunks":["160:static/chunks/160-e8a527a9bad60f49.js","864:static/chunks/864-fc54d328e346eb36.js","201:static/chunks/app/posts/[...slug]/loading-122392e7daaba111.js"],"name":"","async":false}
3:[["$","html",null,{"lang":"en","children":[["$","head",null,{"children":[["$","meta",null,{"name":"google-site-verification","content":"H3lu4upSAU3DePAx6VgfNuTcnzcmWXcS0yCjMOOPzJ4"}],["$","link",null,{"rel":"stylesheet","href":"https://unpkg.com/prism-themes@1.9.0/themes/prism-vsc-dark-plus.css"}],["$","title",null,{"children":"DoodleBobBuffPants"}]]}],["$","body",null,{"className":"__className_f78232 min-h-screen pt-28","children":["$","$L5",null,{"children":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","loading":["$","$L7",null,{}],"loadingStyles":[],"hasLoading":true,"template":["$","$L8",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L8",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children",["slug","2022/05/02/Logging-in-Java-9%2B","c"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":["$","$L9",null,{}],"loadingStyles":[],"hasLoading":true,"template":["$","$L8",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$La",null],"segment":"__PAGE__?{\"slug\":[\"2022\",\"05\",\"02\",\"Logging-in-Java-9+\"]}"},"styles":[]}],"segment":["slug","2022/05/02/Logging-in-Java-9%2B","c"]},"styles":[]}],"segment":"posts"},"styles":[]}]}]}]]}],null]
4:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"Logging in Java 9+"}],["$","meta","2",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","link","3",{"rel":"icon","href":"/DoodleBobBuffPants/favicon.ico","type":"image/x-icon","sizes":"any"}]]
a:["$","div",null,{"className":"markdown","children":[["$","h1",null,{"children":"Logging in Java 9+"}],"\n",["$","p",null,{"children":["Since Java 9, framework-independent logging is available natively through the ",["$","code",null,{"children":"System.LoggerFinder"}]," service\nand the ",["$","code",null,{"children":"System.Logger"}]," facade. Posts such as ",["$","a",null,{"href":"https://dzone.com/articles/system-logger","children":"Understanding System Logger"}],"\nalready exist which explain how this works with existing logging frameworks such as SLF4J/Log4J2 as well as\ncustom implementations."]}],"\n",["$","p",null,{"children":"This post describes how you might structure logging in a Java library so that it easily hooks into a user's\nenvironment whilst also allowing a custom implementation."}],"\n",["$","h2",null,{"children":"Logging-as-a-Module"}],"\n",["$","p",null,{"children":["With logging available as a service, custom logging implementations ought to live in a separate ",["$","code",null,{"children":"logging"}],"\nmodule."]}],"\n",["$","p",null,{"children":"Why is this?"}],"\n",["$","p",null,{"children":["Consumers of your library can then choose between your custom logging implementation, which could be to\n",["$","code",null,{"children":"System.out"}]," for console applications, or an existing logging framework such as SLF4J/Log4J2."]}],"\n",["$","h2",null,{"children":"Logging-not-as-a-Module - Multiple Service Providers"}],"\n",["$","p",null,{"children":["If a custom ",["$","code",null,{"children":"LoggerFinder"}]," service is provided in your application module, then users can't easily swap to\nother frameworks."]}],"\n",["$","p",null,{"children":"Why is this?"}],"\n",["$","p",null,{"children":["A call to ",["$","code",null,{"children":"System.getLogger()"}]," only resolves one ",["$","code",null,{"children":"LoggerFinder"}]," service, so how does it handle multiple service\nproviders? The answer is that whichever appears first wins. In projects managed by Maven this means, for example,\nthat if a dependency which provides a ",["$","code",null,{"children":"LoggerFinder"}]," appears first in the ",["$","code",null,{"children":"dependencies"}]," list, it will be used."]}],"\n",["$","h2",null,{"children":"Testability of loggers"}],"\n",["$","p",null,{"children":"With your application code now independent of the underlying logging implementation, it becomes easier to test\ndifferent logging implementations. You simply create a test module that depends on the logging implementation you\nwant to test, and you can begin to verify that it works."}],"\n",["$","h2",null,{"children":"Examples"}],"\n",["$","h3",null,{"children":"Multiple Service Providers"}],"\n",["$","p",null,{"children":["Let's assume that we're working on a Java project managed by Maven and we have the choice between ",["$","code",null,{"children":"loggerA"}]," and\n",["$","code",null,{"children":"loggerB"}],", both which provide a ",["$","code",null,{"children":"LoggerFinder"}]," service. Our application also has the following line of code:"]}],"\n",["$","div",null,{"className":"remark-highlight","children":["$","pre",null,{"className":"language-java","children":["$","code",null,{"className":"language-java","children":[["$","span",null,{"className":"token keyword","children":"private"}]," ",["$","span",null,{"className":"token keyword","children":"static"}]," ",["$","span",null,{"className":"token keyword","children":"final"}]," ",["$","span",null,{"className":"token class-name","children":"Logger"}]," logger ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token class-name","children":"System"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"getLogger"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":"Main"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token keyword","children":"class"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"getSimpleName"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]}]}],"\n",["$","p",null,{"children":["If our ",["$","code",null,{"children":"pom.xml"}]," has the following dependency list, then ",["$","code",null,{"children":"Logger"}]," will be whatever ",["$","code",null,{"children":"loggerA"}]," returns:"]}],"\n",["$","div",null,{"className":"remark-highlight","children":["$","pre",null,{"className":"language-xml","children":["$","code",null,{"className":"language-xml","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"dependencies"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"\n  ",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"dependency"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"\n    ",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"groupId"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"com.loggerA",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"</"}],"groupId"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"\n    ",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"artifactId"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"loggerA",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"</"}],"artifactId"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"\n  ",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"</"}],"dependency"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"\n  ",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"dependency"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"\n    ",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"groupId"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"com.loggerB",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"</"}],"groupId"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"\n    ",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"artifactId"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"loggerB",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"</"}],"artifactId"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"\n  ",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"</"}],"dependency"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"\n",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"</"}],"dependencies"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"\n"]}]}]}],"\n",["$","p",null,{"children":["If instead our ",["$","code",null,{"children":"pom.xml"}]," has the following dependency list, then ",["$","code",null,{"children":"Logger"}]," will be whatever ",["$","code",null,{"children":"loggerB"}]," returns:"]}],"\n",["$","div",null,{"className":"remark-highlight","children":["$","pre",null,{"className":"language-xml","children":["$","code",null,{"className":"language-xml","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"dependencies"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"\n  ",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"dependency"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"\n    ",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"groupId"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"com.loggerB",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"</"}],"groupId"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"\n    ",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"artifactId"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"loggerB",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"</"}],"artifactId"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"\n  ",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"</"}],"dependency"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"\n  ",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"dependency"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"\n    ",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"groupId"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"com.loggerA",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"</"}],"groupId"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"\n    ",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"<"}],"artifactId"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"loggerA",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"</"}],"artifactId"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"\n  ",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"</"}],"dependency"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"\n",["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token tag","children":[["$","span",null,{"className":"token punctuation","children":"</"}],"dependencies"]}],["$","span",null,{"className":"token punctuation","children":">"}]]}],"\n"]}]}]}],"\n",["$","h3",null,{"children":"Logging-as-a-Module"}],"\n",["$","p",null,{"children":["With logging in a separate module, what might an example project look like?\nThe following diagram shows how one might be structured. Note that ",["$","code",null,{"children":"core"}]," doesn't directly depend on ",["$","code",null,{"children":"logging"}],"\nas it is up to the user to choose the logging framework they want. In tests however, you would depend on the\nlogging implementation you wish to test or test with."]}],"\n",["$","div",null,{"className":"remark-highlight","children":["$","pre",null,{"className":"language-unknown","children":["$","code",null,{"className":"language-unknown","children":"parent\n│   pom.xml\n├───core\n│   │   pom.xml\n│   ├───src\n│   └───target\n└───logging\n    │   pom.xml\n    ├───src\n    │   └───main\n    │       ├───java\n    │       │   └───logging\n    │       │           CustomLogger.java\n    │       │           CustomLoggerFinder.java\n    │       └───resources\n    │           └───META-INF\n    │               └───services\n    │                       java.lang.System$LoggerFinder\n    └───target"}]}]}],"\n",["$","h2",null,{"children":"Conclusion"}],"\n",["$","p",null,{"children":["The ",["$","code",null,{"children":"System.LoggerFinder"}]," service is a neat way to allow your application to hook into the logging framework\nof the environment it gets used in. However, this means that custom logging implementations need to be developed\nwith this in mind, and providing them as separate modules for consumers to depend on is a very flexible approach\nwith testability of different logging implementations as an added benefit."]}],"\n",["$","h4",null,{"children":"References"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"https://dzone.com/articles/system-logger","children":"Understanding System Logger"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://docs.oracle.com/javase/9/docs/api/java/lang/System.LoggerFinder.html","children":"System.LoggerFinder"}]}],"\n"]}]]}]
